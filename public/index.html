<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <!-- <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="theme-color" content="#000000" />
  <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap" rel="stylesheet" />

  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Anton|Oxygen" rel="stylesheet" />

  <title>Portafolio</title>
</head>

<body>
  <noscript>Debes habilitar JavaScript para ejecutar esta aplicación.</noscript>
  <div id="root"></div>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/cvjv/service-worker.js").then(function () {
        console.log("Service Worker Registrado");
      });
    }

    // Código para manejar la solicitud de instalación en el escritorio

    let deferredPrompt;
    const addBtn = document.querySelector(".btn-warning");
    addBtn.style.display = "none";

    window.addEventListener("beforeinstallprompt", e => {
      // Evita que Chrome 67 y versiones anteriores muestren automáticamente el aviso
      e.preventDefault();
      // Guarda el evento para que pueda activarse más tarde.
      deferredPrompt = e;
      // Actualizar la interfaz de usuario para notificar al usuario que puede agregar a la pantalla de inicio
      addBtn.style.display = "block";

      addBtn.addEventListener("click", e => {
        // Oculta nuestra interfaz de usuario que muestra nuestro botón A2HS.
        addBtn.style.display = "none";
        // Mostrar el aviso
        deferredPrompt.prompt();
        // Espere a que el usuario responda a la pregunta
        deferredPrompt.userChoice.then(choiceResult => {
          if (choiceResult.outcome === "accepted") {
            console.log("El usuario acepto la instalacion");
          } else {
            console.log("El usuario cancelo la instalacion ");
          }
          deferredPrompt = null;
        });
      });
    });

  </script>

</body>

</html>